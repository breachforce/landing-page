---
const features = [
  {
    icon: "calendar",
    title: "Monthly Meetups",
    description: "Engaging sessions every month covering the latest in cybersecurity."
  },
  {
    icon: "terminal",
    title: "Real-World Content",
    description: "Focus on practical hacks, tools, and cutting-edge research."
  },
  {
    icon: "shield",
    title: "No Vendor Fluff",
    description: "Unbiased discussions, free from sales pitches and gatekeeping."
  },
  {
    icon: "community",
    title: "Community-Driven",
    description: "A non-profit, community-run initiative for everyone."
  }
];

const iconMap: { [key: string]: string } = {
  calendar: `
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M8 2V5M16 2V5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <path d="M3 8H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
      <circle cx="8" cy="14" r="1" fill="currentColor"/>
      <circle cx="12" cy="14" r="1" fill="currentColor"/>
      <circle cx="16" cy="14" r="1" fill="currentColor"/>
      <circle cx="8" cy="18" r="1" fill="currentColor"/>
      <circle cx="12" cy="18" r="1" fill="currentColor"/>
    </svg>
  `,
  terminal: `
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="2" y="3" width="20" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
      <path d="M7 9L10 12L7 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M13 15H17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  `,
  shield: `
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 2L4 7V12C4 16.5 7 20.16 12 21C17 20.16 20 16.5 20 12V7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
      <path d="M8 12L11 15L16 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  `,
  community: `
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="9" cy="7" r="3" stroke="currentColor" stroke-width="2"/>
      <circle cx="15" cy="9" r="2.5" stroke="currentColor" stroke-width="2"/>
      <path d="M2 19C2 16.2386 4.23858 14 7 14H11C13.7614 14 16 16.2386 16 19V21H2V19Z" stroke="currentColor" stroke-width="2"/>
      <path d="M16 14.5C18.2091 14.5 20 16.0147 20 18V21H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  `
};
---

<section class="what-we-do section">
  <div class="container">
    <h2 class="section-title">What We Do</h2>
    <div class="features-grid">
      {features.map((feature) => (
        <div class="feature-card">
          <div class="feature-header">
            <div class="feature-icon" set:html={iconMap[feature.icon]} />
            <h3 class="feature-title">{feature.title}</h3>
          </div>
          <p class="feature-description">{feature.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .what-we-do {
    background-color: #201e25;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    margin-bottom: 4rem;
    font-weight: 500;
    font-family: monospace;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 3rem;
    max-width: 1000px;
    margin: 0 auto;
  }

  .feature-card {
    text-align: left;
  }

  .feature-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.5rem;
  }

  .feature-icon {
    font-size: 1.5rem;
    width: 48px;
    height: 48px;
    background-color: rgba(255, 20, 147, 0.1);
    border: 1px solid rgba(255, 20, 147, 0.3);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #ff1493;
    flex-shrink: 0;
    transition: all 0.3s ease;
  }

  .feature-icon:hover {
    background-color: rgba(255, 20, 147, 0.2);
    transform: scale(1.05);
  }

  .feature-icon svg {
    width: 24px;
    height: 24px;
  }

  .feature-title {
    font-size: 1.5rem;
    margin: 0;
    font-weight: 600;
    color: #ffffff;
  }

  .feature-description {
    color: #a0a0a0;
    line-height: 1.6;
    font-size: 1rem;
    margin-left: 64px; /* 48px icon width + 16px gap */
  }

  @media (max-width: 768px) {
    .features-grid {
      gap: 2rem;
      grid-template-columns: 1fr;
    }

    .feature-card {
      text-align: left;
    }
  }
</style>
